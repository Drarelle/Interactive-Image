/**
 * Interactive Image jQuery plug-in
 *
 * @author Jean-Philippe Chateau <contact@jpchateau.com>
 * @version 0.4.0
 * @license MIT https://github.com/jpchateau/Interactive-Image/blob/master/LICENSE
 */

define("helper/log",[],function(){"use strict";var e=function(e){this.settings=e};return e.prototype.debug=function(e){window.console&&window.console.log&&!0===this.settings.debug&&window.console.log(e)},function(t){return new e(t)}}),define("event/hover",[],function(){"use strict";return{bindEvents:function(e){e.on("mouseover.interactiveImage",".icon-button",function(){var e=$('div[data-id="'+$(this).attr("data-for")+'"]');e.css("display")!=="block"&&e.fadeIn("fast")}),e.on("mouseleave.interactiveImage",".icon-button",function(){var e=$('div[data-id="'+$(this).attr("data-for")+'"]');e.css("display")==="block"&&e.hide()}),e.on("mouseover.interactiveImage",function(){var e=$(this).find(".icon-button");$.each(e,function(){$(this).css("display")!=="block"&&$(this).fadeIn("fast")})}),e.on("mouseleave.interactiveImage",function(){var e=$(this).find(".icon-button");$.each(e,function(){$(this).css("display")==="block"&&$(this).hide()})})}}}),define("helper/dom",[],function(){"use strict";return{createDomElement:function(e,t){var n=document.createElement(e);return n.setAttribute("class",t),n}}}),define("element/base",["helper/dom"],function(e){"use strict";var t=function(e,t,n,r,i){this.top=e,this.left=t,this.backgroundColor=n,this.fontColor=r,this.title=i};return t.prototype.createIcon=function(){var t=e.createDomElement("div","icon-button icon-radio-checked");return t.setAttribute("data-for",this.title),t.style.top=this.top+"px",t.style.left=this.left+"px",t},t.prototype.createTitle=function(){var t=e.createDomElement("span","title");return t.appendChild(document.createTextNode(this.title)),t},t.prototype.renderHtml=function(){throw"Error: render method not implemented"},function(e,n,r,i,s){return new t(e,n,r,i,s)}}),define("element/text",["element/base","helper/dom"],function(e,t){"use strict";var n=function(n,r,i,s,o,u,a,f){var l=e(n,r,i,s,o);return l.description=u,l.picture=a,l.link=f,l.createDescription=function(){var e=t.createDomElement("p","description");return e.appendChild(document.createTextNode(this.description)),e},l.createPicture=function(){var e=t.createDomElement("img","picture");return e.src=this.picture,e},l.createLink=function(){var e,t=document.createElement("a");return t.href=this.link.href,t.style.color=this.fontColor,"undefined"!==this.link.label?e=this.link.label:e=this.link.href,t.appendChild(document.createTextNode(e)),t},l.renderHtml=function(){var e=t.createDomElement("div","container");return e.setAttribute("data-id",this.title),e.style.color=this.fontColor,e.style.backgroundColor=this.backgroundColor,e.style.left=this.left-50+"px",e.style.top=this.top+30+"px",e.appendChild(this.createTitle()),e.appendChild(this.createDescription()),"undefined"!=typeof this.picture&&e.appendChild(this.createPicture()),"undefined"!=typeof this.link&&e.appendChild(this.createLink()),e},l};return function(e,t,r,i,s,o,u,a){return new n(e,t,r,i,s,o,u,a)}}),define("app",["helper/log","event/hover","element/text"],function(e,t,n){"use strict";return $.interactiveImage=function(r,i,s){var o=e(i),u=function(e){if("undefined"!=typeof e.debug&&!1!==e.debug&&!0!==e.debug)throw"Error: check debug option";o.debug("Settings checked")},a={fontColor:"#000",backgroundColor:"#fff"},f=function(e){e=$.extend({},a,e),o.debug("Options:"),o.debug(e);var t=n(e.top,e.left,e.backgroundColor,e.fontColor,e.title,e.description,e.picture,e.link);return o.debug("Item "+t.title+" created"),s.append(t.createIcon()),$(t.renderHtml())},l=function(e,t){var n;for(n in e)e.hasOwnProperty(n)&&t.append(f(e[n]))};try{u(i),l(r,s),t.bindEvents(s)}catch(c){o.debug(c)}},function(e,t,n){$.interactiveImage(e,t,n)}}),requirejs(["app"],function(e){"use strict";$.fn.interactiveImage=function(t,n){var r={debug:!1};return n=$.extend({},r,n),this.each(function(){e(t,n,$(this))})}}),define("main",function(){});